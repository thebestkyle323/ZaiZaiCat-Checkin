# 什么值得买任务自动化脚本

一个功能完整的什么值得买（SMZDM）自动化任务脚本，支持多账号管理，自动完成各类任务并领取奖励。

## ✨ 功能特性

- 🔐 **多账号支持** - 可配置多个账号，自动依次处理
- 📋 **全任务支持** - 支持所有类型的任务自动执行
  - 📖 浏览文章任务
  - ⭐ 收藏文章任务
  - 👍 点赞文章任务
  - 🎁 申请众测任务
  - 📤 分享众测招募任务
- 💰 **自动领奖** - 任务完成后自动领取奖励
- 📊 **详细日志** - 美化的日志输出，同时记录到文件
- ⚡ **智能签名** - 自动计算请求签名
- 🛡️ **错误处理** - 完善的异常处理机制

## 📦 安装依赖

```bash
pip install requests
```

## ⚙️ 配置说明

在项目根目录的 `config/token.json` 中配置您的账号信息：
自行抓包获取相关内容,在headers中找到相关字段(搜索)
```json
{
  "smzdm": {
    "accounts": [
      {
        "account_name": "账号1",
        "cookie": "你的Cookie信息",
        "user_agent": "",
        "setting": ""
      }
    ]
  }
}
```

### 配置文件位置

- **默认路径**: `ZaiZaiCat-Checkin/config/token.json`
- **结构说明**: 配置文件采用统一管理，支持多个平台配置
- **smzdm 节点**: 什么值得买相关配置都在此节点下

### Cookie 获取方法

1. 打开什么值得买APP/网站
2. 使用抓包工具（如Charles、Fiddler等）
3. 找到任意API请求的Cookie字段
4. 复制完整的Cookie值到配置文件

## 🚀 使用方法

```bash
python main.py
```

脚本将自动：
1. 加载配置的所有账号
2. 获取每个账号的任务列表
3. 自动执行所有未完成的任务
4. 完成后自动领取奖励
5. 输出详细的执行日志

## 📝 日志说明

日志同时输出到：
- **控制台** - 实时显示执行进度（简洁格式）
- **smzdm_task.log** - 完整的日志记录（详细格式）

日志包含：
- ⏰ 时间戳
- 📊 日志级别（INFO/WARNING/ERROR）
- 📋 详细的操作信息
- 🎨 彩色emoji标识，易于阅读

```

## ⚠️ 注意事项

1. **Cookie安全** - 请妥善保管您的Cookie，不要泄露给他人
2. **频率控制** - 脚本已内置任务间隔，避免请求过于频繁
3. **账号切换** - 多账号之间会自动等待间隔
4. **错误处理** - 遇到错误会自动跳过并继续执行

## 📊 任务状态说明

- ⚪ 未开始 (0) - 任务尚未开始
- 🔵 进行中 (1) - 任务正在进行
- 🟡 未完成 (2) - 任务未完成
- 🟢 已完成 (3) - 任务已完成，等待领奖
- ✅ 已领取 (4) - 任务已完成并已领取奖励

## 🎯 执行流程

```
启动脚本
  ↓
加载配置
  ↓
循环处理每个账号
  ├─ 获取用户信息
  ├─ 获取任务列表
  ├─ 执行未完成任务
  ├─ 领取任务奖励
  └─ 输出统计信息
  ↓
完成所有账号处理
```

## 📈 日志示例

```
2025-10-20 10:00:00 | INFO     | 🎉 什么值得买任务自动化脚本启动
2025-10-20 10:00:00 | INFO     | ⏰ 启动时间: 2025-10-20 10:00:00
2025-10-20 10:00:01 | INFO     | ✅ 成功加载配置文件，共 1 个账号
2025-10-20 10:00:01 | INFO     | 🚀 开始处理账号: 测试账号
2025-10-20 10:00:02 | INFO     | 📊 任务列表 (共 5 个任务):
2025-10-20 10:00:02 | INFO     |   📋 浏览文章: 🔵 进行中 (0/1)
2025-10-20 10:00:03 | INFO     | ✅ 任务 [浏览文章] 执行成功
```

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

感谢什么值得买平台提供的优质服务。

---

**免责声明**: 本项目仅供学习交流使用，请勿用于非法用途。使用本脚本产生的一切后果由使用者自行承担。

